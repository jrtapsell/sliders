<!--
   untitled.html
   
   Copyright 2013 James <james@Blade>
   
   This program is free software; you can redistribute it and/or modify
   it under the terms of the GNU General Public License as published by
   the Free Software Foundation; either version 2 of the License, or
   (at your option) any later version.
   
   This program is distributed in the hope that it will be useful,
   but WITHOUT ANY WARRANTY; without even the implied warranty of
   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
   GNU General Public License for more details.
   
   You should have received a copy of the GNU General Public License
   along with this program; if not, write to the Free Software
   Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
   MA 02110-1301, USA.
   
   
-->

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
	<title>untitled</title>
	<meta http-equiv="content-type" content="text/html;charset=utf-8" />
	<meta name="generator" content="Geany 1.22" />
	<script type="text/javascript" src="cordova-2.7.0.js"></script>
	<script type="text/javascript" src="phonegap.js"></script>

	<script src="jquery.min.js"></script>
</head>
<style>
	body, html{
		width:98%;
		height:99%;
		}
	body{
		background-image:url(bg.jpg);
		background-size: 150%;
		}
	.board{
		width:80%;
		height:80%;
		position:relative;
		top:10%;
		left:10%;
		}
	.square{
		width:33%;
		height:33%;
		position:absolute;
		display:inline-block;
		border:1px solid black;
		background-color:grey;
		-webkit-tap-highlight-color: rgba(0,0,0,0);
		-webkit-tap-highlight-color: transparent;
		background-size: 100% 100%;
		border-radius:8px;
		}
	.reset{
		width:100%;
		height:5%;
		position:absolute;
		bottom:0;
		}
	#move1{
		background-image:url(1.png);
		}
	#move2{
		background-image:url(2.png);
		}
	#move3{
		background-image:url(3.png);
		}
	#move4{
		background-image:url(4.png);
		}
	#move5{
		background-image:url(5.png);
		}
	#move6{
		background-image:url(6.png);
		}
	#move7{
		background-image:url(7.png);
		}
	#move8{
		background-image:url(8.png);
		}
</style>

<body>
	<div class="board">
		<div class="square" id="move1" onclick="kingjulian(1)">
		</div>
		<div class="square" id="move2" onclick="kingjulian(2)">
		</div>
		<div class="square" id="move3" onclick="kingjulian(3)">
		</div>
		<div class="square" id="move4" onclick="kingjulian(4)">
		</div>
		<div class="square" id="move5" onclick="kingjulian(5)">
		</div>
		<div class="square" id="move6" onclick="kingjulian(6)">
		</div>
		<div class="square" id="move7" onclick="kingjulian(7)">
		</div>
		<div class="square" id="move8" onclick="kingjulian(8)">
		</div>
		</div>
	<div class="reset"onclick="reset()">
	</div>
		
</body>
<script>
	function reset()
	{
	
navigator.app.exitApp();
	}
	var locations = [[1,2,3],[4,5,9],[7,8,6]];
	var stop = false;
	function kingjulian(index)
	{
		if(!stop){
var blank;	
for( var i = 0, len = 3; i < len; i++ ) {
	for( var j = 0, len = 3; j < len; j++ ) {
    if( locations[i][j] === 9 ) {
        bx = i + 1;
        by = j + 1;
        break;
    }
}	
}
var clicked;	
for( var i = 0, len = 3; i < len; i++ ) {
	for( var j = 0, len = 3; j < len; j++ ) {
    if( locations[i][j] === index ) {
        cx = i + 1;
        cy = j + 1;
        break;
    }
}	
}
console.log("bx " + bx);
console.log("by " + by);
console.log("cx " + cx);
console.log("cy " + cy);
if(by == cy + 1 && bx == cx){
	$( "#move" + index ).animate({
	left: "+=33%",
});
locations[bx - 1][by - 1] = index;
locations[cx - 1][cy - 1] = 9;
}
if(by == cy - 1 && bx == cx){
	$( "#move" + index ).animate({
	left: "-=33%",
});
locations[bx - 1][by - 1] = index;
locations[cx - 1][cy - 1] = 9;
}
if(by == cy && bx == cx + 1){
	$( "#move" + index ).animate({
	top: "+=33%",
});
locations[bx - 1][by - 1] = index;
locations[cx - 1][cy - 1] = 9;
}
if(by == cy && bx == cx - 1){
	$( "#move" + index ).animate({
	top: "-=33%",
});
locations[bx - 1][by - 1] = index;
locations[cx - 1][cy - 1] = 9;
}
if (String(locations) === "1,2,3,4,5,6,7,8,9"){
	setTimeout(function(){alert("You Win")}, 1000);
	stop = true;
	
}else{
	console.log(String(locations));
}
}
}

for( var i = 0, len = 3; i < len; i++ ) {
for( var j = 0, len = 3; j < len; j++ ) {
	var target = locations[i][j];
	if(target !== 9){
	$( "#move" + target ).animate({
	top: "+=" + i * 33 + "%",
	left: "+=" + j * 33 + "%",
});
}
}
}
</script>
</html>
